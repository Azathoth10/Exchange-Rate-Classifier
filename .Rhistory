TKs <- c("GBPUSD=x")
start <- c("2014-01-01")
df <- GetTS(TKs, start)
df <- na.omit(df)
sum(is.na(df))
nrow(df)
sum(is.na(df[1]))
df <- Calc_rets(df)
colnames(df) <- c("Close", "Rets")
df$EWM_FAST <- movavg(df$Close , n=12, type='e')
df$EWM_SLOW <- movavg(df$Close , n=26, type='e')
df$MACD <- df$EWM_FAST - df$EWM_SLOW
df$signal <- movavg(df$MACD , n=9, type='e')
df$diffMACD <- df$MACD - df$signal
sSlopecalc(df, df$Close, 5)
Slopecalc(df, df$Close, 5)
source("GetTickers.r")
source("rets.r")
source('slope.r')
library(dplyr)
library(pracma)
TKs <- c("GBPUSD=x")
start <- c("2014-01-01")
df <- GetTS(TKs, start)
df <- na.omit(df)
sum(is.na(df))
nrow(df)
sum(is.na(df[1]))
df <- Calc_rets(df)
colnames(df) <- c("Close", "Rets")
df$EWM_FAST <- movavg(df$Close , n=12, type='e')
df$EWM_SLOW <- movavg(df$Close , n=26, type='e')
df$MACD <- df$EWM_FAST - df$EWM_SLOW
df$signal <- movavg(df$MACD , n=9, type='e')
df$diffMACD <- df$MACD - df$signal
Slopecalc(df, df$Close, 5)
df <- data.frame(df$Close)
source("GetTickers.r")
source("rets.r")
source('slope.r')
library(dplyr)
library(pracma)
TKs <- c("GBPUSD=x")
start <- c("2014-01-01")
df <- GetTS(TKs, start)
df <- na.omit(df)
sum(is.na(df))
nrow(df)
sum(is.na(df[1]))
df <- Calc_rets(df)
colnames(df) <- c("Close", "Rets")
df$EWM_FAST <- movavg(df$Close , n=12, type='e')
df$EWM_SLOW <- movavg(df$Close , n=26, type='e')
df$MACD <- df$EWM_FAST - df$EWM_SLOW
df$signal <- movavg(df$MACD , n=9, type='e')
df$diffMACD <- df$MACD - df$signal
n = 5
dfr <- data.frame(df$Close)
coeffic <- c()
x <- c(1:5)
for(i in c((n+1):(nrow(df)+1))){
y <- dfr[((i-n):(i-1)),]
summ <- summary(lm(y~x))
coeff <- summ$coefficients
m <- coeff[2,1]
coeffic <- c(coeffic, m)
}
coeffic
atan(coeffic)
atan(coeffic[1])
coeffic[1]
angles <- atan(coeffic)
df <- tail(df, -(n-1))
length(coeffic)
nrow(df)
source("GetTickers.r")
source("rets.r")
source('slope.r')
library(dplyr)
library(pracma)
TKs <- c("GBPUSD=x")
start <- c("2014-01-01")
df <- GetTS(TKs, start)
df <- na.omit(df)
sum(is.na(df))
nrow(df)
sum(is.na(df[1]))
df <- Calc_rets(df)
colnames(df) <- c("Close", "Rets")
df$EWM_FAST <- movavg(df$Close , n=12, type='e')
df$EWM_SLOW <- movavg(df$Close , n=26, type='e')
df$MACD <- df$EWM_FAST - df$EWM_SLOW
df$signal <- movavg(df$MACD , n=9, type='e')
df$diffMACD <- df$MACD - df$signal
n = 5
dfr <- data.frame(df$Close)
coeffic <- c()
x <- c(1:5)
for(i in c((n+1):(nrow(df)+1))){
y <- dfr[((i-n):(i-1)),]
summ <- summary(lm(y~x))
coeff <- summ$coefficients
m <- coeff[2,1]
coeffic <- c(coeffic, m)
}
angles <- atan(coeffic)
df <- tail(df, -(n-1))
df$slopes <- angles
df
Calc_rets(df$slopes)
Calc_rets(data.frame(df$slopes))
source("GetTickers.r")
source("rets.r")
source('slope.r')
library(dplyr)
library(pracma)
TKs <- c("GBPUSD=x")
start <- c("2014-01-01")
df <- GetTS(TKs, start)
df <- na.omit(df)
sum(is.na(df))
nrow(df)
sum(is.na(df[1]))
df <- Calc_rets(df)
colnames(df) <- c("Close", "Rets")
df$EWM_FAST <- movavg(df$Close , n=12, type='e')
df$EWM_SLOW <- movavg(df$Close , n=26, type='e')
df$MACD <- df$EWM_FAST - df$EWM_SLOW
df$signal <- movavg(df$MACD , n=9, type='e')
df$diffMACD <- df$MACD - df$signal
n = 5
dfr <- data.frame(df$Close)
coeffic <- c()
x <- c(1:5)
for(i in c((n+1):(nrow(df)+1))){
y <- dfr[((i-n):(i-1)),]
summ <- summary(lm(y~x))
coeff <- summ$coefficients
m <- coeff[2,1]
coeffic <- c(coeffic, m)
}
angles <- atan(coeffic)
df <- tail(df, -(n-1))
df$slopes <- angles
df
source("GetTickers.r")
source("rets.r")
source('slope.r')
library(dplyr)
library(pracma)
TKs <- c("GBPUSD=x")
start <- c("2014-01-01")
df <- GetTS(TKs, start)
df <- na.omit(df)
sum(is.na(df))
nrow(df)
sum(is.na(df[1]))
df <- Calc_rets(df)
colnames(df) <- c("Close", "Rets")
df$EWM_FAST <- movavg(df$Close , n=12, type='e')
df$EWM_SLOW <- movavg(df$Close , n=26, type='e')
df$MACD <- df$EWM_FAST - df$EWM_SLOW
df$signal <- movavg(df$MACD , n=9, type='e')
df$diffMACD <- df$MACD - df$signal
n = 10
dfr <- data.frame(df$Close)
coeffic <- c()
x <- c(1:5)
for(i in c((n+1):(nrow(df)+1))){
y <- dfr[((i-n):(i-1)),]
summ <- summary(lm(y~x))
coeff <- summ$coefficients
m <- coeff[2,1]
coeffic <- c(coeffic, m)
}
angles <- atan(coeffic)
df <- tail(df, -(n-1))
df$slopes <- angles
source("GetTickers.r")
source("rets.r")
source('slope.r')
library(dplyr)
library(pracma)
TKs <- c("GBPUSD=x")
start <- c("2014-01-01")
df <- GetTS(TKs, start)
df <- na.omit(df)
sum(is.na(df))
nrow(df)
sum(is.na(df[1]))
df <- Calc_rets(df)
colnames(df) <- c("Close", "Rets")
df$EWM_FAST <- movavg(df$Close , n=12, type='e')
df$EWM_SLOW <- movavg(df$Close , n=26, type='e')
df$MACD <- df$EWM_FAST - df$EWM_SLOW
df$signal <- movavg(df$MACD , n=9, type='e')
df$diffMACD <- df$MACD - df$signal
n = 10
dfr <- data.frame(df$Close)
coeffic <- c()
x <- c(1:n)
for(i in c((n+1):(nrow(df)+1))){
y <- dfr[((i-n):(i-1)),]
summ <- summary(lm(y~x))
coeff <- summ$coefficients
m <- coeff[2,1]
coeffic <- c(coeffic, m)
}
angles <- atan(coeffic)
df <- tail(df, -(n-1))
df$slopes <- angles
df
source("GetTickers.r")
source("gettick.r")
source("rets.r")
source('slope.r')
library(dplyr)
library(pracma)
TK <- c("GBPUSD=x")
start <- c("2000-01-01")
colsIlike <- c("GBPUSD.X.High","GBPUSD.X.Low", "GBPUSD.X.Close")
df <- GetT(TK, start)
df <- df[, colsIlike]
df <- na.omit(df)
sum(is.na(df))
nrow(df)
dfClose <- data.frame(df$GBPUSD.X.Close)
df <- tail(df, -1)
sum(is.na(df[1]))
dfr <- Calc_rets(dfClose)
df$Rets <- dfr$df.GBPUSD.X.Close
colnames(df) <- c("High", "Low", "Close","Rets")
head(df)
df[,c("High","Low","Close")]
as.matrix(df[,c("High","Low","Close")])
ATRdf <- ATR(as.matrix(df[,c("High","Low","Close")]), n=14)
ATRdf <- data.frame(ATRdf)
ATRdf <- data.frame(ATRdf$atr)
naatr <- sum(is.na(ATRdf[1]))
ATRdf <- na.omit(ATRdf)
ATRdf <- data.frame(ATRdf)
df <- tail(df, -naatr)
df$ATR <- ATRdf$ATRdf
df$EWM_FAST <- movavg(df$Close , n<-12, type='e')
df <- tail(df, -n)
df$EWM_SLOW <- movavg(df$Close , n<-26, type='e')
df <- tail(df, -n)
df$MACD <- df$EWM_FAST - df$EWM_SLOW
df$signal <- movavg(df$MACD , n<-9, type='e')
df <- tail(df, -n)
df$diffMACD <- df$MACD - df$signal
df$EMA_10 <- movavg(df$MACD , n<-10, type='e')
df <- tail(df, -n)
df$EMA_20 <- movavg(df$MACD , n<-20, type='e')
df <- tail(df, -n)
df$EMA_50 <- movavg(df$MACD , n<-50, type='e')
df <- tail(df, -n)
df$SMA_10 <- movavg(df$MACD , n<-10, type='s')
df <- tail(df, -n)
df$SMA_20 <- movavg(df$MACD , n<-20, type='s')
df <- tail(df, -n)
df$SMA_50 <- movavg(df$MACD , n<-50, type='s')
df <- tail(df, -n)
n = 5
dfMACD <- data.frame(df$diffMACD)
anglesClose <- Slopecalc(df, dfClose, n)
anglesMACD <- Slopecalc(df, dfMACD, n)
df <- tail(df, -(n-1))
df$slopeClose <- anglesClose
df$slopeMACD <- anglesMACD
nrow(df)
View(df)
ADXdf <- ADX(as.matrix(df[,c("High","Low","Close")]), n=14)
ADXdf
df$ADX <- ADXdf$ADX
ADXdf <- data.frame(ADX(as.matrix(df[,c("High","Low","Close")]), n=14))
df$ADX <- ADXdf$ADX
View(df)
df <- na.omit(df)
nrow(df)
View(df)
RSIdf <- data.frame(RSI(df$Close,14))
View(RSIdf)
df$RSI <- RSIdf$RSI.df.Close..14.
df <- na.omit(df)
WPRdf <- data.frame(WPR(as.matrix(df[,c("High","Low","Close")]), 14))
df$WPR <- WPRdf$x
df <- na.omit(df)
a <- df$Close - df$Low
b <- df$High - df$Low
ab <- data.frame(a/b)
colnames(ab) <- "Stoch"
View(ab)
df$Stoch <- ab$Stoch
View(df)
head(df)
df$Rets[1]
bin <- c()
for(i in c(1:nrow(df))){
if(df$Rets[i] > 0){
bval <- 1
}else{
bval <- 0
}
bin <- c(bin, bval)
}
df$BinaryRets <- Bin
df$BinaryRets <- bin
View(df)
head(df)
shift <- function(x, n){
c(x[-(seq(n))], rep(NA, n))
}
shift(df$BinaryRets, -1)
shift(df$BinaryRets, 1)
tail(df$BinaryRets,2)
tail(df$BinaryRets,1)
tail(df$BinaryRets,0)
tail(df$BinaryRets,-1)
head(df$BinaryRets,-1)
head(df$BinaryRets,-5)
shift.column(df, c("BinaryRets"), newNames = sprintf("Binary_Rets_1", columns),
len = 1L, up = TRUE)
dfbin_1 <- head(df$BinaryRets,-5)
source('C:/Users/LorenzoFancelli/Desktop/ExchangeRates Classifier/CreateDataframe.r', echo=TRUE)
dfbin_1 <- head(df$BinaryRets,-1)
source("GetTickers.r")
source("gettick.r")
source("rets.r")
source('slope.r')
library(dplyr)
library(pracma)
TK <- c("GBPUSD=x")
start <- c("2000-01-01")
colsIlike <- c("GBPUSD.X.High","GBPUSD.X.Low", "GBPUSD.X.Close")
df <- GetT(TK, start)
df <- df[, colsIlike]
df <- na.omit(df)
sum(is.na(df))
nrow(df)
dfClose <- data.frame(df$GBPUSD.X.Close)
df <- tail(df, -1)
sum(is.na(df[1]))
dfr <- Calc_rets(dfClose)
df$Rets <- dfr$df.GBPUSD.X.Close
colnames(df) <- c("High", "Low", "Close","Rets")
head(df)
ATRdf <- ATR(as.matrix(df[,c("High","Low","Close")]), n=14)
ATRdf <- data.frame(ATRdf)
ATRdf <- data.frame(ATRdf$atr)
naatr <- sum(is.na(ATRdf[1]))
ATRdf <- na.omit(ATRdf)
ATRdf <- data.frame(ATRdf)
df <- tail(df, -naatr)
df$ATR <- ATRdf$ATRdf
df$EWM_FAST <- movavg(df$Close , n<-12, type='e')
df <- tail(df, -n)
df$EWM_SLOW <- movavg(df$Close , n<-26, type='e')
df <- tail(df, -n)
df$MACD <- df$EWM_FAST - df$EWM_SLOW
df$signal <- movavg(df$MACD , n<-9, type='e')
df <- tail(df, -n)
df$diffMACD <- df$MACD - df$signal
df$EMA_10 <- movavg(df$MACD , n<-10, type='e')
df <- tail(df, -n)
df$EMA_20 <- movavg(df$MACD , n<-20, type='e')
df <- tail(df, -n)
df$EMA_50 <- movavg(df$MACD , n<-50, type='e')
df <- tail(df, -n)
df$SMA_10 <- movavg(df$MACD , n<-10, type='s')
df <- tail(df, -n)
df$SMA_20 <- movavg(df$MACD , n<-20, type='s')
df <- tail(df, -n)
df$SMA_50 <- movavg(df$MACD , n<-50, type='s')
df <- tail(df, -n)
n = 5
dfMACD <- data.frame(df$diffMACD)
anglesClose <- Slopecalc(df, dfClose, n)
anglesMACD <- Slopecalc(df, dfMACD, n)
df <- tail(df, -(n-1))
df$slopeClose <- anglesClose
df$slopeMACD <- anglesMACD
ADXdf <- data.frame(ADX(as.matrix(df[,c("High","Low","Close")]), n=14))
df$ADX <- ADXdf$ADX
df <- na.omit(df)
RSIdf <- data.frame(RSI(df$Close,14))
df$RSI <- RSIdf$RSI.df.Close..14.
df <- na.omit(df)
WPRdf <- data.frame(WPR(as.matrix(df[,c("High","Low","Close")]), 14))
df$WPR <- WPRdf$x
df <- na.omit(df)
a <- df$Close - df$Low
b <- df$High - df$Low
ab <- data.frame(a/b)
colnames(ab) <- "Stoch"
df$Stoch <- ab$Stoch
bin <- c()
for(i in c(1:nrow(df))){
if(df$Rets[i] > 0){
bval <- 1
}else{
bval <- 0
}
bin <- c(bin, bval)
}
df$BinaryRets <- bin
shift <- function(x, n){
c(x[-(seq(n))], rep(NA, n))
}
dfbin_1 <- head(df$BinaryRets,-1)
dfbin_1 <- c(NA, dfbin_1)
dfbin_1 <- head(df$BinaryRets,-1)
dfbin_1 <- c(NA, dfbin_1)
df$BinaryRets_1 <- dfbin_1
df <- na.omit(df)
View(df)
source("GetTickers.r")
source("gettick.r")
source("rets.r")
source('slope.r')
library(dplyr)
library(pracma)
TK <- c("GBPUSD=x")
start <- c("2000-01-01")
colsIlike <- c("GBPUSD.X.High","GBPUSD.X.Low", "GBPUSD.X.Close")
df <- GetT(TK, start)
df <- df[, colsIlike]
df <- na.omit(df)
sum(is.na(df))
nrow(df)
dfClose <- data.frame(df$GBPUSD.X.Close)
df <- tail(df, -1)
sum(is.na(df[1]))
dfr <- Calc_rets(dfClose)
df$Rets <- dfr$df.GBPUSD.X.Close
colnames(df) <- c("High", "Low", "Close","Rets")
head(df)
ATRdf <- ATR(as.matrix(df[,c("High","Low","Close")]), n=14)
ATRdf <- data.frame(ATRdf)
ATRdf <- data.frame(ATRdf$atr)
naatr <- sum(is.na(ATRdf[1]))
ATRdf <- na.omit(ATRdf)
ATRdf <- data.frame(ATRdf)
df <- tail(df, -naatr)
df$ATR <- ATRdf$ATRdf
df$EWM_FAST <- movavg(df$Close , n<-12, type='e')
df <- tail(df, -n)
df$EWM_SLOW <- movavg(df$Close , n<-26, type='e')
df <- tail(df, -n)
df$MACD <- df$EWM_FAST - df$EWM_SLOW
df$signal <- movavg(df$MACD , n<-9, type='e')
df <- tail(df, -n)
df$diffMACD <- df$MACD - df$signal
df$EMA_10 <- movavg(df$MACD , n<-10, type='e')
df <- tail(df, -n)
df$EMA_20 <- movavg(df$MACD , n<-20, type='e')
df <- tail(df, -n)
df$EMA_50 <- movavg(df$MACD , n<-50, type='e')
df <- tail(df, -n)
df$SMA_10 <- movavg(df$MACD , n<-10, type='s')
df <- tail(df, -n)
df$SMA_20 <- movavg(df$MACD , n<-20, type='s')
df <- tail(df, -n)
df$SMA_50 <- movavg(df$MACD , n<-50, type='s')
df <- tail(df, -n)
n = 5
dfMACD <- data.frame(df$diffMACD)
anglesClose <- Slopecalc(df, dfClose, n)
anglesMACD <- Slopecalc(df, dfMACD, n)
df <- tail(df, -(n-1))
df$slopeClose <- anglesClose
df$slopeMACD <- anglesMACD
ADXdf <- data.frame(ADX(as.matrix(df[,c("High","Low","Close")]), n=14))
df$ADX <- ADXdf$ADX
df <- na.omit(df)
RSIdf <- data.frame(RSI(df$Close,14))
df$RSI <- RSIdf$RSI.df.Close..14.
df <- na.omit(df)
WPRdf <- data.frame(WPR(as.matrix(df[,c("High","Low","Close")]), 14))
df$WPR <- WPRdf$x
df <- na.omit(df)
a <- df$Close - df$Low
b <- df$High - df$Low
ab <- data.frame(a/b)
colnames(ab) <- "Stoch"
df$Stoch <- ab$Stoch
bin <- c()
for(i in c(1:nrow(df))){
if(df$Rets[i] > 0){
bval <- 1
}else{
bval <- 0
}
bin <- c(bin, bval)
}
df$BinaryRets <- bin
View(df)
dfbin_1 <- head(df$BinaryRets,-1)
View(df)
dfbin_1 <- c(NA, dfbin_1)
df$BinaryRets_1 <- dfbin_1
View(df)
df <- na.omit(df)
tail(df)
shift <- function(x, n){
c(x[-(seq(n))], rep(NA, n))
}
df$label <- shift(df$BinaryRets, 1)
View(df)
seq(5)
df$BinaryRets[seq(5)]
View(df)
